{% extends "base_datatable.html" %}

{% block table %}
  <thead>
  <tr>
    <th scope="col">Molecule</th>
    <th scope="col"><em>N</em><sub>atoms</sub></th>
    <th scope="col"><em>m</em> (amu)</th>
    <th scope="col">States</th>
    <th scope="col">Transitions</th>
  </tr>
  </thead>
  <tbody>
  {% for molecule in object_list %}
    <tr>
      <td>
        <a href="#" class="elida-link" data-bs-toggle="modal" data-bs-target="#molecule-details-{{ molecule.pk }}">{{ molecule.html }}</a>
        <div class="modal fade" role="dialog" id="molecule-details-{{ molecule.pk }}" tabindex="-1" aria-hidden="true" aria-labelledby="MoleculeDetails{{ molecule.pk }}">
          <div class="modal-dialog">
            <div class="modal-content bg-dark modal-details">
              <div class="modal-header">
                <h5 class="modal-title">Molecule details</h5>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-7">Formula:</div>
                  <div class="col-5">{{ molecule.html }}</div>
                </div>
                <div class="row">
                  <div class="col-7">Name:</div>
                  <div class="col-5">{{ molecule.name }}</div>
                </div>
                <div class="row">
                  <div class="col-7">Isotopologue:</div>
                  <div class="col-5">{{ molecule.isotopologue.html }}</div>
                </div>
                <div class="row">
                  <div class="col-7">Resolves electronic states:</div>
                  <div class="col-5">{% if molecule.isotopologue.ground_el_state_str %}Yes{% else %}No{% endif %}</div>
                </div>
                {% if molecule.isotopologue.ground_el_state_str %}
                  <div class="row">
                    <div class="col-7">Electronic ground state:</div>
                    <div class="col-5">{{ molecule.isotopologue.ground_el_state_html }}</div>
                  </div>
                {% endif %}
                <div class="row">
                  <div class="col-7">Resolves vibrational states:</div>
                  <div class="col-5">{% if molecule.isotopologue.vib_state_dim %}Yes{% else %}No{% endif %}</div>
                </div>
                {% if molecule.isotopologue.vib_state_dim %}
                  <div class="row">
                    <div class="col-7">Vibrational quantum numbers:</div>
                    <div class="col-5">{{ molecule.isotopologue.vib_quantum_numbers_html }}</div>
                  </div>
                {% endif %}
                <div class="row">
                  <div class="col-7">Mass (amu):</div>
                  <div class="col-5">{{ molecule.isotopologue.mass|floatformat:-5 }}</div>
                </div>
                <div class="row">
                  <div class="col-7">States:</div>
                  <div class="col-5">
                    <a href="{% url 'state-list' molecule.slug %}" class="elida-link">{{ molecule.isotopologue.number_states }}</a>
                  </div>
                </div>
                <div class="row">
                  <div class="col-7">Transitions:</div>
                  <div class="col-5">
                    <a href="{% url 'transition-list-mol_slug' molecule.slug %}" class="elida-link">{{ molecule.isotopologue.number_transitions }}</a>
                  </div>
                </div>
                <div class="row">
                  <div class="col-7">Exomol dataset name:</div>
                  <div class="col-5">
                    <a href="https://www.exomol.com/data/molecules/{{ molecule.slug }}/{{ molecule.isotopologue.iso_slug }}/{{ molecule.isotopologue.dataset_name }}" class="elida-link" target="_blank" rel="noopener noreferrer">{{ molecule.isotopologue.dataset_name }}</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </td>
      <td>{{ molecule.number_atoms }}</td>
      <td>{{ molecule.isotopologue.mass|floatformat:-2 }}</td>
      <td>
        <a href="{% url 'state-list' molecule.slug %}" class="elida-link">{{ molecule.isotopologue.number_states }}</a>
      </td>
      <td>
        <a href="{% url 'transition-list-mol_slug' molecule.slug %}" class="elida-link">{{ molecule.isotopologue.number_transitions }}</a>
      </td>
    </tr>
  {% endfor %}
  </tbody>
{% endblock table %}
