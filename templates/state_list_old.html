{% extends "base_datatable.html" %}

{% block table %}
  <thead>
  <tr>
    <th scope="col" {% if not resolves_el %}class="hide-column"{% endif %}>Electronic state</th>
    <th scope="col" {% if not resolves_vib %}class="hide-column"{% endif %}>Vibrational state</th>
    <th scope="col">Energy (eV)</th>
    <th scope="col">Lifetime (s)</th>
    <th scope="col">Transitions from</th>
    <th scope="col">Transitions to</th>
  </tr>
  </thead>
  <tbody>
  {% for state in object_list %}
    <tr>
      <td {% if not resolves_el %}class="hide-column"{% endif %}>{{ state.el_state_html }}</td>
      <td {% if not resolves_vib %}class="hide-column"{% endif %}>{{ state.vib_state_html }}</td>
      <td>{{ state.energy|floatformat:-3 }}</td>
      <td>
        {% if state.lifetime is None %}
          âˆž
        {% else %}
          {{ state.lifetime|stringformat:".2e" }}
        {% endif %}
      </td>
      <td>
        {% if state.number_transitions_from %}
          <a href="{% url 'transition-list-from-state' state.pk %}" class="elida-link">{{ state.number_transitions_from }}</a>
        {% endif %}
      </td>
      <td>
        {% if state.number_transitions_to %}
          <a href="{% url 'transition-list-to-state' state.pk %}" class="elida-link">{{ state.number_transitions_to }}</a>
        {% endif %}
      </td>
    </tr>
  {% endfor %}
  </tbody>
{% endblock table %}

{% block datatable_settings %}
  <script>
      $('#elida-datatable').DataTable({
          order: [[1, 'asc']],
      });
  </script>
{% endblock datatable_settings %}